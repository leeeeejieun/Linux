# Configuration generated by Ansible
config acme
	option account_email "{{ openwrt_acme_account_email }}"
{% if openwrt_acme_debug is defined %}
	option debug "{{ openwrt_acme_debug }}"
{% endif %}

{% for key, value in openwrt_acme_cert.items() %}
config cert "{{ key }}"
{% if value['enabled'] is defined %}
	option enabled "{{ value['enabled'] }}"
{% endif %}
{% if value['staging'] is defined %}
	option staging "{{ value['staging'] }}"
{% endif %}
{% for domain in value['domains'] %}
	list domains "{{ domain }}"
{% endfor %}
	option validation_method "{{ value['validation_method'] }}"
{% if value['dns'] is defined %}
	option dns "{{ value['dns'] }}"
{% endif %}
{% if value['dns_wait'] is defined %}
	option dns_wait "{{ value['dns_wait'] }}"
{% endif %}
{% if value['credentials'] is defined %}
{% for creds in value['credentials'] %}
	list credentials '{{ creds }}'
{% endfor %}
{% endif %}
{% if value['calias'] is defined %}
	option calias "{{ value['calias'] }}"
{% endif %}
{% if value['dalias'] is defined %}
	option dalias "{{ value['dalias'] }}"
{% endif %}
{% if value['webroot'] is defined %}
	# Deprecated
	option webroot "{{ value['webroot'] }}"
{% endif %}
{% if value['key_type'] is defined %}
	option key_type "{{ value['key_type'] }}"
{% endif %}
{% if value['keylength'] is defined %}
	# Deprecated, use key_type instead
	option keylength "{{ value['keylength'] }}"
{% endif %}
{% if value['acme_server'] is defined %}
	option acme_server "{{ value['acme_server'] }}"
{% endif %}
{% if value['standalone'] is defined %}
	# Deprecated, use validation_method instead
	option standalone "{{ value['standalone'] }}"
{% endif %}
{% if value['days'] is defined %}
	option days "{{ value['days'] }}"
{% endif %}

{% endfor %}